# Mautic Auto Tagger Plugin

UTM tagging on autopilot for Mautic 4, 5, and 6.

> **Compatible with Mautic 4, 5, and 6**

---

## Overview

The Mautic Auto Tagger Bundle automatically adds UTM parameters and custom tags to links in emails, dynamic content, and focus items. It supports pre-filling UTM tags when creating new entities and dynamic token replacement based on entity properties.

---

## Features

- **Automatic UTM Tagging:** Appends UTM tags to links in emails, dynamic content, and focus items if not already present.
- **Pre-fill UTM Tags:** Default UTM tags are pre-filled when creating new emails, dynamic content, or focus items.
- **Custom Tags:** Add any custom key-value parameters to your links.
- **Token Support:** Use tokens to dynamically insert values from Mautic entities (e.g., email name, campaign ID, contact fields).
- **Transliteration:** Use the `|transliterate` modifier to generate URL-safe, ASCII versions of token values.
- **Channel-specific Settings:** Configure tags for each channel (Email, Dynamic Content, Focus) independently.
- **Does not override existing UTM tags:** If a link already has UTM parameters, the plugin will not overwrite them.

---

## How It Works

- **Automatic Appending:** When enabled, the plugin scans links before they are used. If a link lacks UTM parameters, the plugin appends the configured default UTM tags and any relevant custom tags for that channel. Tokens in tags are replaced with values from the relevant entity.
- **Pre-filling Tags:** When enabled, creating a new Email, Dynamic Content, or Focus Item will automatically populate the UTM tag fields with the defaults.
- **Custom Tags:** Define any number of custom key-value pairs (e.g., `my_param=value`, `tracker={campaignfield=id}`) that support tokens.
- **Priority:** Existing UTM parameters are not overridden. Custom tags are added if their keys do not conflict.

---

## Using Tokens

Tokens allow you to dynamically insert values from Mautic entities into your UTM or custom tags.

- `{contactfield=alias}`: For contact fields (e.g., `{contactfield=firstname}`)
- `{emailfield=property}`: For email properties (e.g., `{emailfield=name}`)
- `{dynamiccontentfield=property}`: For dynamic content properties
- `{focusfield=property}`: For focus item properties
- `{campaignfield=property}`: For campaign properties
- `{eventfield=property}`: For campaign event properties

**Transliteration:**  
Add `|transliterate` to a token to get a URL-safe, ASCII version.  
Example: `{emailfield=name|transliterate}`

---

## Example Use Case

1. **Configure:** In plugin settings under "Tags for emails", set:
    - `utm_source`: `mautic`
    - `utm_medium`: `email`
    - `utm_campaign`: `{campaignfield=name|transliterate}`
    - `utm_content`: `{emailfield=name|transliterate}`
    - Custom Tag: `channel=email`
2. **Enable:** Check "Automatically append UTM parameters to URLs if not exist".
3. **Create:** Create an email named "Summer Sale" in a campaign named "Q3 Promotions" with a link `https://my-shop.com/products`.
4. **Send:** The link will be transformed to:  
   `https://my-shop.com/products?utm_source=mautic&utm_medium=email&utm_campaign=Q3-Promotions&utm_content=Summer-Sale&channel=email`

---

## Installation

1. Copy the plugin to `plugins/MauticAutoTaggerBundle`
2. Clear cache:  
   `php bin/console cache:clear`
3. Reload plugins list:  
   `php bin/console mautic:plugins:reload`
4. Re-generate assets:  
   `php bin/console mautic:assets:generate`

---

## FAQ

### Can I personalize my UTM tags?

Yes! You can set them per channel and use tokens for dynamic values.

### What if I already have UTM tags on some links?

The plugin will not override existing UTM parameters.

### Which tokens are supported?

Tokens for entity properties (email, campaign, contact, etc.) and all contact fields.

### What does "Automatically add UTM tags during creating new form" do?

It pre-fills UTM tag fields when creating a new email, dynamic content, or focus item.

### What does "Automatically append UTM parameters to URLs if not exist" do?

It ensures all links have UTM tags, appending them if missing.

---

## Licenses & Pricing

- **Single Customer License:** $49/year  
  [Buy now](http://madesimple.madesimple.cloud/plugin/store/pay/auto-utm-tagger/single)
- **Small Agency License:** $99/year  
  [Buy now](http://madesimple.madesimple.cloud/plugin/store/pay/auto-utm-tagger/small)
- **Unlimited SaaS Agency License:** $199/year  
  [Buy now](https://madesimple.madesimple.cloud/plugin/store/pay/auto-utm-tagger/unlimited)

[Contact us if you have questions](/contact)

---

Built by [Kuzmany](https://kuzmany.biz/)

---
