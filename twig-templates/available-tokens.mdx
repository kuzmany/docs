---
title: Available Twig Tokens
sidebarTitle: Available Tokens
description: Reference guide for tokens available within the Twig Templates plugin for Mautic.
---
import { Note } from '@mintlify/components';

The Twig Templates plugin provides several objects and tokens you can use to access Mautic data and perform actions within your templates.

## Contact Object (`contact`)

The `contact` object provides access to the fields of the contact viewing the email or landing page.

*   **Standard Fields:** Access any standard Mautic contact field using its alias (e.g., `contact.firstname`, `contact.email`, `contact.city`).
    ```twig
    Hello {{ contact.firstname|default('there') }}!
    Your email is {{ contact.email }}.
    ```
*   **Custom Fields:** Access custom contact fields using their alias (e.g., `contact.custom_field_alias`).
    ```twig
    Your preference: {{ contact.preference_field }}
    ```
*   **Tags:** Access the contact's tags as an array.
    ```twig
    {% if 'VIP' in contact.tags %}
      <p>Welcome, VIP!</p>
    {% endif %}

    <ul>
    {% for tag in contact.tags %}
        <li>{{ tag }}</li>
    {% endfor %}
    </ul>
    ```
*   **Segments:** Access the segments (lists) the contact belongs to as an array of objects. Each object has properties like `id` and `name`.
    ```twig
    {% for segment in contact.segments %}
        {% if segment.name == 'Newsletter Subscribers' %}
            <p>Thanks for subscribing!</p>
        {% endif %}
    {% endfor %}
    ```
*   **Companies (`contact.companies`):** Access *all* companies associated with the contact as an array of company objects. Each object contains the company's fields.
    ```twig
    {% if contact.companies is not empty %}
        <p>Associated Companies:</p>
        <ul>
            {% for company in contact.companies %}
                <li>
                    {{ company.companyname }}
                    {% if company.is_primary == '1' %} (Primary){% endif %}
                    - {{ company.companycity|default('City Unknown') }}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No companies associated with this contact.</p>
    {% endif %}
    ```
*   **Primary Company Shortcut (`contact.primaryCompany`):** Returns the primary company object if one is set. If no company is explicitly marked as primary, it returns the *first* company associated with the contact. Returns `null` if the contact has no associated companies.
    ```twig
    {% if contact.primaryCompany %}
        <p>Primary/First Company Name: {{ contact.primaryCompany.companyname }}</p>
        <p>Industry: {{ contact.primaryCompany.companyindustry|default('Not specified') }}</p>
    {% else %}
        <p>No company associated.</p>
    {% endif %}
    ```

## Form Result Tokens

These tokens are available only when an email is triggered by a form submission action (either directly or via a campaign). See [Forms Support](/twig-templates/forms-support) for details.

*   **`formresult`**: An object containing the data from the *most recent* form submission by the contact. Field names correspond to form field aliases.
    ```twig
    Thank you for submitting the form, {{ formresult.firstname }}!
    Your message: {{ formresult.message_field }}
    ```
*   **`formresults`**: An array containing *all* form submission data associated with the contact. Each element is an object like `formresult`.
    ```twig
    <p>Submission History:</p>
    <ul>
    {% for result in formresults %}
        <li>{{ result.dateSubmitted|date('Y-m-d') }}: {{ result.email }}</li>
    {% else %}
        <li>No submissions recorded.</li>
    {% endfor %}
    </ul>
    ```

## Email Tokens (`tokens`)

When sending emails via the API, you can pass custom tokens in the payload. These are accessible via the `tokens` object. See the [API Documentation](/twig-templates/api) for usage.

```twig
{# Assuming 'mycustomtoken' was passed in the API payload #}
Your special code is: {{ tokens['{mycustomtoken}'] }}
```

## Custom Objects Support

<Note>
  This feature requires the separate **MauticCustomObjectsBundle** plugin to be installed and enabled.
</Note>

You can access items from Mautic's Custom Objects feature within your Twig templates using the `getCustomObjectItems` function.

### Loading Custom Object Items

Use the `getCustomObjectItems` function to retrieve an array of items belonging to a specific Custom Object.

`getCustomObjectItems(alias, limit, page, orderBy, orderDirection, search, contactId)`

*   **`alias`** (string, required): The alias of the Custom Object you want to query (e.g., `'orders'`, `'products'`).
*   **`limit`** (integer, optional): Maximum number of items to return (default: 1000).
*   **`page`** (integer, optional): Page number for pagination (default: 1).
*   **`orderBy`** (string, optional): Field to sort by (`'id'` or `'name'`, default: `'id'`).
*   **`orderDirection`** (string, optional): Sort direction (`'ASC'` or `'DESC'`, default: `'ASC'`).
*   **`search`** (string, optional): A string to search within the items (default: `null`).
*   **`contactId`** (integer, optional): Filter items associated with a specific Mautic Contact ID (default: `null`). Use `contact.id` to filter by the current contact.

The function returns an array of items. Each item in the array is itself an associative array containing:
*   `id`: The ID of the Custom Object item.
*   `name`: The name of the Custom Object item.
*   `fields`: An associative array containing the values of the item's custom fields, keyed by the field alias (e.g., `item.fields.your_field_alias`). For 'select' type fields, the label is returned instead of the raw value.

### Accessing Item Fields

Once you have loaded the items into a variable (e.g., `myItems`), you can loop through them and access their standard properties (`id`, `name`) and custom field values using the `fields` array.

```twig
{% for item in myItems %}
  Item ID: {{ item.id }}
  Item Name: {{ item.name }}
  Custom Field Value: {{ item.fields.your_field_alias }}
{% endfor %}
```

### Example: Displaying recent changelog entries

```twig
{# Load the latest 5 changelog items, ordered by name descending #}
{% set changelogs = getCustomObjectItems('changelogs', 5, 1, 'name', 'DESC') %}

{% if changelogs is not empty %}
    <h2>Recent Changelog</h2>
    <ul>
        {% for item in changelogs %}
            <li>
                <h3>{{ item.name }}</h3> {# Access standard name property #}
                <p>
                    Product: <a href="/{{ item.fields.product_alias }}"> {# Access custom field 'product_alias' #}
                                {{ item.fields.product_alias }}
                             </a><br/>
                    Version: {{ item.fields.version_alias }} {# Access custom field 'version_alias' #}
                </p>
                <div>
                    {{ item.fields.content_alias | raw }} {# Access custom field 'content_alias' #}
                </div>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No changelog entries found.</p>
{% endif %}
```

### Example: Displaying the last order for the current contact

```twig
{% if contact.id is defined %}
    {# Load the single latest order associated with the current contact #}
    {% set lastOrder = getCustomObjectItems('orders', 1, 1, 'id', 'DESC', null, contact.id) %}

    {% if lastOrder is not empty %}
        {% set orderItem = lastOrder|first %} {# Get the first (and only) item #}
        <p>
            Your last order number #{{ orderItem.name }} was placed on
            {{ orderItem.fields.date_ordered_alias }}. {# Access custom field 'date_ordered_alias' #}
        </p>
    {% else %}
        <p>You have no previous orders.</p>
    {% endif %}
{% endif %}
```

<Note>
  This list covers tokens specifically added or enhanced by the Twig Templates plugin. Standard Twig variables and functions (like `now` for the current time) are also available. Refer to the official [Twig Documentation](https://twig.symfony.com/doc/3.x/) for more on standard Twig capabilities.
</Note>
